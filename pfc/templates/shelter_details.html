{% extends "layout.html" %}
{% load static %}
{% block content %}
<main class="justify-self-stretch flex-1">
  <section class="flex flex-col mx-auto mt-2">
    <h2 class="font-grands text-2xl md:text-3xl text-center w-full my-6">{{ association.nom }}</h3>

    <div class="font-body mx-auto w-[80%] rounded-lg my-1 justify-center flex">
      {% for x in association.images_association.all %}
        <img src="{% static '' %}{{ x.url }}" class="rounded-lg"  alt="Logo de {{ association.nom }}">
      {% empty %}
        <img src="{% static 'images/shelter_empty.webp' %}" alt="Logo de {{ association.nom }} bientôt visible">
      {% endfor %}
    </div>

    <article class="font-body mx-auto w-[90%] md:w-[60%] bg-zoning rounded-lg shadow my-4">
      <div class="text-center w-full">
        <h3 class="font-grands text-xl md:text-3xl text-center my-1 w-full">Informations</h3>
      </div>

      <div class="w-full py-2 px-2 text-xs">
        <p class="font-body text-texte md:text-center md:text-lg">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus magni rerum, unde sunt beatae ipsam rem est sequi minus eligendi doloremque aliquid laudantium eos perspiciatis obcaecati ea voluptas harum et?</p>
      </div>

      <div class="w-full px-2 py-4 gap-2 text-xs flex flex-col">
        <p class="font-body text-texte text-center md:text-base">Adresse : {{ association.rue }},&nbsp;{{ association.code_postal }},&nbsp;{{ association.commune}},&nbsp;{{ association.pays }}</p>
        <p class="font-body text-texte text-center md:text-base">Téléphone : {{ association.telephone }}</p>
        <p class="font-body text-texte text-center md:text-base">E-mail : {{ association.utilisateur.email }}</p>	
      </div>
    </article>
  </section>
	
  {% if animals %}
  <section class="p-2 block">
    <h2 class="font-grands text-xl text-center my-2 md:md:text-2xl">Ils vous y attendent de patte ferme !</h2>
    <!-- Carousel of ONE -->
    <section id="animal-carousel" class="md:hidden relative mx-auto h-auto w-[90%] bg-zoning rounded-lg shadow">

      <button
        class="absolute top-0 start-0 z-1 flex items-center justify-center h-full pl-2 cursor-pointer group focus:outline-none  size-10 opacity-75"
        type="button" id="previous" aria-label="Précédent" tabindex="0"><img src="{% static 'icons/left.svg' %}" alt=""></button>

      <div class="h-auto mx-auto rounded-lg p-4">
        {% for animal in animals %}
          <div class="hidden carousel-img">
            <div class="flex bg-fond rounded-lg shadow flex-col md:flex-col mx-auto my-2 w-[75%] p-4">

              <div class="w-full md:w-full flex justify-center items-center">
                {% for x in animal.images_animal.all %}
                  <img class="object-contain md:h-full rounded-lg"
                  src="{% static '' %}{{ x.url }}" alt="Photo de {{ animal.nom }}">
                {% empty %}
                  <img class="object-contain md:h-full rounded-lg" src="{% static 'images/animal_empty.webp' %}" alt="Photo à venir">
                {% endfor %}
              </div>


              <div class="flex-auto text-center">
                <div class="flex flex-wrap my-2">
                  <h3 class="flex-auto text-xl font-semibold dark:text-gray-50">
                    {{ animal.nom }}
                  </h3>
                  <h4 class="flex-none w-full mt-2 text-sm font-medium text-gray-500">
                    {{ animal.espece.nom }}
                  </h4>
                  <hr>
                  <p class="flex-none w-full mt-2 text-sm font-medium text-gray-500">Age : {{ animal.age }}
                  </p>
                  <p class="flex-none w-full mt-2 text-sm font-medium text-gray-500">Localisation : {{ animal.refuge.code_postal }}
                  </p>
                </div>
                <div class="flex mb-4 text-sm font-medium">
                  <a class="py-2 px-4 bg-accents1-light text-fond w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"
                    href="{% url 'animal_details' animalId=animal.id %}">Découvrir</a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <button
        class="absolute top-0 end-0 z-1 flex items-center justify-center h-full pr-2 cursor-pointer group focus:outline-none size-10 opacity-75"
        type="button" id="next" aria-label="Suivant" tabindex="0"><img src="{% static 'icons/right.svg' %}" alt=""></button>
    </section>

    <!-- Carousel of THREE -->
    <section id="animal-carousel3" class=" flex flex-row max-[767px]:hidden relative mx-auto w-[60%] h-auto rounded-lg shadow">
      <button
        class="absolute top-0 start-0 z-1 flex items-center justify-center h-full pl-2 cursor-pointer group focus:outline-none size-10 opacity-75"
        type="button" id="previous3" aria-label="Précédent" tabindex="0"><img src="{% static 'icons/left.svg' %}" alt=""></button>
    
      <div class="h-auto w-auto flex rounded-lg my-6 gap-4 px-8">
        {% for animal in animals %}
          <div class="hidden carousel3-img place-self-center">
            <div class="flex bg-zoning rounded-lg shadow flex-row md:flex-col p-2">

              <div class="w-6 md:w-full flex justify-center items-center">
                {% for x in animal.images_animal.all %}
                  <img class="object-contain w-[80%] h-48 md:h-full rounded-lg"
                  src="{% static '' %}{{ x.url }}" alt="Photo de {{ animal.nom }}">                  
                {% empty %}
                  <img class="object-contain w-[80%] h-48 md:h-full rounded-lg" src="{% static 'images/animal_empty.webp' %}" alt="Photo à venir">
                {% endfor %}
              </div>

              <div class="flex-auto text-center">
                <div class="flex flex-wrap my-2">
                  <h3 class="flex-auto text-xl font-grands font-semibold">
                    {{ animal.nom }}
                  </h3>
                  <h4 class="flex-none w-full mt-2 text-sm font-medium text-gray-500">
                    {{ animal.espece.nom }}
                  </h4>
                  <hr>
                  <p class="flex-none w-full mt-2 text-sm font-medium text-gray-500">Age : {{ animal.age }}
                  </p>
                  <p class="flex-none w-full mt-2 text-sm font-medium text-gray-500">Localisation : {{ animal.refuge.code_postal }}
                  </p>
                </div>
                <div class="flex mb-4 text-sm font-medium">
                  <a class="py-2 px-4 bg-accents1-light text-fond w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"
                    href="{% url 'animal_details' animalId=animal.id %}">Découvrir</a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    
      <button
        class="absolute top-0 end-0 z-1 flex items-center justify-center h-full pr-2 cursor-pointer group focus:outline-none size-10 opacity-75"
        type="button" id="next3" aria-label="Suivant" tabindex="0"><img src="{% static 'icons/right.svg' %}" alt=""></button>
    
    </section>

  </section>
  {% endif %}
</main>

<script src="{% static 'js/carousel.js' %}"></script>
{% endblock %}